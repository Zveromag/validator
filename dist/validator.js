/**
 * Form Validator - v0.0.1
 * Lightweight form validation plugin
 * https://github.com/Zveromag/validator#readme
 * Copyright (c) 2019 Ivan Kuzmichov,Ivan Tarakanov.
 * MIT License
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Validator=t()}(this,function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(o,!0).forEach(function(r){t(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var o,i;o=Element.prototype,i=o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector,o.matches=o.matchesSelector=i||function(e){var t=document.querySelectorAll(e),r=this;return Array.prototype.some.call(t,function(e){return e===r})},function(e){e.closest=e.closest||function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}}(Element.prototype);var a={required:function(e,t){var r=!0;switch(e.el.type){case"checkbox":r=e.el.checked;break;case"radio":r=1===t.form.querySelectorAll('[type="radio"][name="'.concat(e.el.name,'"]:checked')).length;break;case"select":case"select-one":case"select-multiple":r=""!==e.el.value;break;default:r=""!==e.el.value.trim()}return r||e.i18n.required},minLen:function(e){return e.el.value.length>=e.param||e.i18n.minLen.replace("%s%",e.param)},maxLen:function(e){return e.el.value.length<=e.param||e.i18n.maxLen.replace("%s%",e.param)},email:function(e){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e.el.value)||e.i18n.email},equalTo:function(e,t){var r=t.form.querySelector('[name="'.concat(e.param,'"]'));if(r)return r.value.trim()===e.el.value||e.i18n.equalTo},url:function(e){return/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i.test(e.el.value)||e.i18n.url},number:function(e){return/^(\d+|\.?\d+)$/.test(e.el.value)||e.i18n.number},regex:function(e,t){var r=t.options.validators.regex[e.param];return new RegExp(r.pattern).test(e.el.value)||r.error}},s={required:"This field is required",minLen:"The minimum number of characters allowed is %s%",maxLen:"The maximum allowed number of characters is %s%",email:"The e-mail field has the wrong format",phone:"The phone number is not in the correct format",number:"The entered data must be a number",equalTo:"The entered data does not match",url:"It is not a valid url"},l={showErrors:!0,checkChange:!0,checkInput:!1,checkBlur:!1,containerSelector:".form-group",errorClass:"has-error",errorHintClass:"error-hint",onSuccess:function(){},onError:function(){},onChange:function(){},onReset:function(){}},c=new RegExp(/^(minLen|maxLen|required|equalTo|email|regex|url)\((\w{1,20})\)/i);return function(){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n({},l,{},r),this.i18n=n({},s,{},t.i18n),this.form=e,this.formSubmit=this.validateForm.bind(this),this.formReset=this.reset.bind(this),this.inputChange=this.validateInput.bind(this),this.bindEvents()}var r,o,i;return r=t,i=[{key:"destroy",value:function(e){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),"string"==typeof e&&(e=[].slice.call(document.querySelectorAll(e))),e instanceof Array&&e.forEach(function(e){if("Validator"in e){var t=e.Validator;t.unbindEvents.call(t),t.form.Validator=null,delete t.form.Validator,t.form=null}})}},{key:"run",value:function(e,r){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),"string"==typeof e&&(e=[].slice.call(document.querySelectorAll(e))),e instanceof Array&&e.forEach(function(e){"Validator"in e||(e.Validator=new t(e,r))})}},{key:"version",get:function(){return.1}}],(o=[{key:"check",value:function(e){for(var t=e.value.trim(),r=e.getAttribute("data-valid"),n=[],o={el:e,i18n:this.i18n},i=r.split("|"),s=i.length,l=0;l<s;l++){var u=i[l].match(c),h=void 0;if(u?(h=u[1],void 0!==u[2]&&(o.param=u[2])):h=i[l],(""!==t||"required"===h||"equalTo"===h)&&a.hasOwnProperty(h)){var f=a[h](o,this);if(void 0!==f&&!0!==f){var d=e.getAttribute("data-valid-msg-".concat(h));f=d||f,n.push(f)}}}return n}},{key:"validateInput",value:function(e){var t=e.target.closest("[data-valid]");if(t){var r={el:t},n=this.check(t);return n.length>0&&(r.errors=n),this.options.showErrors&&this.toggleError(r),this.options.onChange(r)}}},{key:"validateForm",value:function(e){for(var t=[],r=Array.prototype.slice.call(this.form.querySelectorAll('[data-valid]:not(:disabled):not([type="hidden"])')),n=0,o=r.length;n<o;n++){var i=this.check(r[n]);0!==i.length&&t.push({el:r[n],errors:i})}return 0===t.length?this.options.onSuccess(e):(e.preventDefault(),this.options.showErrors&&this.showErrors(t),this.options.onError(t))}},{key:"reset",value:function(e){this.options.showErrors&&this.resetErrors(e.target),this.options.onReset(e)}},{key:"showErrors",value:function(e){var t=this;e.forEach(function(e){t.toggleError(e)})}},{key:"toggleError",value:function(e){var t=e.el.closest(this.options.containerSelector),r=t.querySelector(".".concat(this.options.errorHintClass));r&&r.parentNode.removeChild(r),e.errors?(t.classList.add(this.options.errorClass),t.insertAdjacentHTML("beforeend",'<div class="'.concat(this.options.errorHintClass,'"> ').concat(e.errors.join("<br>"),"</div>"))):t.classList.remove(this.options.errorClass)}},{key:"resetErrors",value:function(e){var t=this;[].slice.call(e.querySelectorAll(".".concat(this.options.errorClass))).forEach(function(e){e.classList.remove(t.options.errorClass);var r=e.querySelector(".".concat(t.options.errorHintClass));r&&e.removeChild(r)})}},{key:"bindEvents",value:function(){var e=this;this.form.addEventListener("submit",this.formSubmit),this.form.addEventListener("reset",this.formReset),this.options.checkChange&&this.form.addEventListener("change",this.inputChange),this.options.checkInput&&this.form.addEventListener("input",this.inputChange),this.options.checkBlur&&Array.prototype.slice.call(this.form.querySelectorAll('[data-valid]:not(:disabled):not([type="hidden"])')).forEach(function(t){t.addEventListener("blur",e.inputChange)})}},{key:"unbindEvents",value:function(){var e=this;this.form.removeEventListener("submit",this.formSubmit),this.options.checkChange&&this.form.removeEventListener("change",this.inputChange),this.options.checkInput&&this.form.addEventListener("input",this.inputChange),this.options.checkBlur&&Array.prototype.slice.call(this.form.querySelectorAll('[data-valid]:not(:disabled):not([type="hidden"])')).forEach(function(t){t.removeEventListener("blur",e.inputChange)})}}])&&e(r.prototype,o),i&&e(r,i),t}()});
